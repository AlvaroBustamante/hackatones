<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.4/dist/bootstrap-table.min.css">
    <link rel="stylesheet" href="index.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="jumbotron">
                    <h1 id="reparaciones">
                        </h2>
                        <p>
                            Sistema de reparacion de telefonos </p>
                        <p>
                            <a class="btn btn-primary btn-large" id="reptel" href="#">Reparar</a>
                            <a class="btn btn-primary btn-large" id="" onclick="Datos()">Ver Datos</a>
                        </p>
                </div>
                <div id="divReparacion" style="display: none;">
                    <div class="row">
                        <div class="col-md-6">
                            <h2>Primero diagnostico</h2>
                        </div>
                        <div class="col-md-6">
                            <h2>Costo</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <table class="table">

                                <tr>
                                    <td> <label for="">IMEI</label></td>
                                    <td><input type="text" name="" id="idImei" value="Nombre" disabled></td>
                                </tr>
                                <tr>
                                    <td> <label for=""></label>Numero de serie</td>
                                    <td><input type="text" name="" id="idNum_serie" value="Nombre" disabled></td>
                                </tr>
                                <tr>
                                    <td> <label for="">Marca</label></td>
                                    <td><input type="text" name="" id="idMarca" value="Nombre" disabled></td>
                                </tr>
                                <tr>
                                    <td> <label for="">Estado</label></td>
                                    <td><input type="text" name="" id="idEstado" value="Nombre" disabled></td>
                                </tr>
                            </table>
                        </div>
                        <div class="col-md-6">
                            <table class="table">

                                <tr>
                                    <td> <label for="">Tenico:</label></td>
                                    <td><input type="text" name="" id="idTecnico" value="Nombre" disabled></td>
                                </tr>
                                <tr>
                                    <td> <label for="">Primer diagnostico</label></td>
                                    <td><input type="text" name="" id="repPri_diagnostico" value="Nombre" disabled></td>
                                </tr>
                                <tr>
                                    <td> <label for="">Costo</label></td>
                                    <td><input type="text" name="" id="repCosto" value="Nombre" disabled></td>
                                </tr>
                                <tr>
                                    <td> <label for="">Autorizacion</label></td>
                                    <td><input type="text" name="" id="repAutorizacion" value="Nombre" disabled></td>
                                </tr>
                                <tr>
                                    <td> <label for="">Abono del cliente</label></td>
                                    <td><input type="text" name="" id="repAbono" value="Nombre" disabled></td>
                                </tr>
                                <tr>
                                    <td> <label for="">Diagnostico final</label></td>
                                    <td><input type="text" name="" id="repDiagnostico_final" value="Nombre" disabled></td>
                                </tr>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row" id="datos" style="display: none;">
            <div class="col-md-4">
                <table id="table">
                    <thead>
                        <tr>
                            <th data-field="pri_diagnostico">Primer Diagnostico</th>
                            <th data-field="costo">Costo</th>
                            <th data-field="autorizacion">Autorizacion</th>
                            <th data-field="abono">Abono</th>
                            <th data-field="diagnostico_final">Diagnostico final</th>
                            <th data-field="costo">Reportado?</th>
                            <th data-field="autorizacion">IMEI</th>
                            <th data-field="abono">Marca</th>
                            <th data-field="diagnostico_final">Numero de serie</th>
                            <th data-field="accion" data-formatter="accionFormatter" data-events="accionEvents">Acciones
                            </th>
                        </tr>
                    </thead>
                    <tbody>

                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script src="https://kit.fontawesome.com/e59191e4cc.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/bootstrap-table@1.22.4/dist/bootstrap-table.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="index.js"></script>
    <script>
        Reparacion.init();
        function Datos(){
            document.getElementById("datos").style.display="block";
        }
        document.addEventListener('DOMContentLoaded', (event) => {
        // Recupera los datos del localStorage
        const DataRep = localStorage.getItem('Reparaciones');
        const DataCel = localStorage.getItem('celulares');

        if (DataRep && DataCel) {
            const datorep = JSON.parse(DataRep);
            const datocel = JSON.parse(DataCel);
            const tableBody = document.getElementById('table').getElementsByTagName('tbody')[0];

            // Limpia la tabla
            tableBody.innerHTML = '';

            // Agrega los datos a la tabla
            const maxLength = Math.max(datorep.length, datocel.length);

                for (let i = 0; i < maxLength; i++) {
                    const reparacion = datorep[i];
                    const celular = datocel[i];

                    const row = tableBody.insertRow();

                    const cell1 = row.insertCell(0);
                    const cell2 = row.insertCell(1);
                    const cell3 = row.insertCell(2);
                    const cell4 = row.insertCell(3);
                    const cell5 = row.insertCell(4);
                    const cell6 = row.insertCell(5);
                    const cell7 = row.insertCell(6);
                    const cell8 = row.insertCell(7);
                    const cell9 = row.insertCell(8);
                    const cell10 = row.insertCell(9);

                    cell1.textContent = reparacion.pri_diagnostico;
                    cell2.textContent = reparacion.costo;
                    cell3.textContent = reparacion.autorizacion;
                    cell4.textContent = reparacion.abono;
                    cell5.textContent = reparacion.diagnostico_final;
                    cell6.textContent = celular.estado;
                    cell7.textContent = celular.imei;
                    cell8.textContent = celular.marca;
                    cell9.textContent = celular.num_serie;
                }
        }
    });
        
    </script>
    
</body>

</html>